function e(e,a,r,t){Object.defineProperty(e,a,{get:r,set:t,enumerable:!0,configurable:!0})}var a=globalThis.parcelRequire94c2,r=a.register;r("j4hAv",function(r,t){e(r.exports,"offchainLookupSignature",()=>p),e(r.exports,"offchainLookup",()=>m);var s=a("iqlCP"),o=a("7pfpm"),n=a("gE2yJ"),c=a("4ASvZ"),l=a("bk0yn"),d=a("bIAfU"),i=a("2lX2M"),u=a("idiZQ"),f=a("3jYPq");let p="0x556f1830",h={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function m(e,{blockNumber:a,blockTag:r,data:t,to:n}){let{args:u}=(0,c.decodeErrorResult)({data:t,abi:[h]}),[f,p,m,g,b]=u,{ccipRead:k}=e,E=k&&"function"==typeof k?.request?k.request:y;try{if(!(0,d.isAddressEqual)(n,f))throw new o.OffchainLookupSenderMismatchError({sender:f,to:n});let t=await E({data:m,sender:f,urls:p}),{data:c}=await (0,s.call)(e,{blockNumber:a,blockTag:r,data:(0,i.concat)([g,(0,l.encodeAbiParameters)([{type:"bytes"},{type:"bytes"}],[t,b])]),to:n});return c}catch(e){throw new o.OffchainLookupError({callbackSelector:g,cause:e,data:t,extraData:b,sender:f,urls:p})}}async function y({data:e,sender:a,urls:r}){let t=Error("An unknown error occurred.");for(let s=0;s<r.length;s++){let c=r[s],l=c.includes("{data}")?"GET":"POST",d="POST"===l?{data:e,sender:a}:void 0,i="POST"===l?{"Content-Type":"application/json"}:{};try{let r;let s=await fetch(c.replace("{sender}",a).replace("{data}",e),{body:JSON.stringify(d),headers:i,method:l});if(r=s.headers.get("Content-Type")?.startsWith("application/json")?(await s.json()).data:await s.text(),!s.ok){t=new n.HttpRequestError({body:d,details:r?.error?(0,f.stringify)(r.error):s.statusText,headers:s.headers,status:s.status,url:c});continue}if(!(0,u.isHex)(r)){t=new o.OffchainLookupResponseMalformedError({result:r,url:c});continue}return r}catch(e){t=new n.HttpRequestError({body:d,details:e.message,url:c})}}throw t}}),r("7pfpm",function(r,t){e(r.exports,"OffchainLookupError",()=>c),e(r.exports,"OffchainLookupResponseMalformedError",()=>l),e(r.exports,"OffchainLookupSenderMismatchError",()=>d);var s=a("3jYPq"),o=a("2z3YU"),n=a("g2X4O");class c extends o.BaseError{constructor({callbackSelector:e,cause:a,data:r,extraData:t,sender:s,urls:o}){super(a.shortMessage||"An error occurred while fetching for an offchain result.",{cause:a,metaMessages:[...a.metaMessages||[],a.metaMessages?.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(e=>`    ${(0,n.getUrl)(e)}`)],`  Sender: ${s}`,`  Data: ${r}`,`  Callback selector: ${e}`,`  Extra data: ${t}`].flat(),name:"OffchainLookupError"})}}class l extends o.BaseError{constructor({result:e,url:a}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${(0,n.getUrl)(a)}`,`Response: ${(0,s.stringify)(e)}`],name:"OffchainLookupResponseMalformedError"})}}class d extends o.BaseError{constructor({sender:e,to:a}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${a}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}});